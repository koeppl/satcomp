# Computing Minimum String Attractor

This program computes the minimum string attractor by using SAT solver.

## Install

```bash
$ pip install pipenv
$ pipenv sync
```

## Usage

```bash
$ pipenv run python minattractor.py -h                                                    master
usage: minattractor.py [-h] [--file FILE] [--output OUTPUT] [--size SIZE] [--algo ALGO]

Compute Minimum String Attractors.

optional arguments:
  -h, --help       show this help message and exit
  --file FILE      input file
  --output OUTPUT  output file
  --size SIZE      exact size or upper bound of attractor size to search
  --algo ALGO      [min: find a minimum string attractor, exact/atmost: find a string attractor whose size is exact/atmost SIZE]
```

## Running Example

```bash
$ pipenv run python minattractor.py --file data/cantrbry/grammar.lsp --algo min
text length = 3721
# of min substrs = 1669
# of min_substrs whose length < 20 = 1665
# of min_substrs whose length >= 20 = 4
the size of minimum attractor = 497
minimum attractor is [3, 6, 9, 11, 13, 15, 21, 23, 26, 29, 32, 35, 39, 45, 51, 52, 55, 58, 60, 63, 66, 70, 73, 78, 81, 86, 96, 100, 109, 115, 119, 122, 126, 134, 140, 144, 156, 162, 171, 182, 184, 187, 195, 202, 227, 240, 256, 262, 269, 277, 290, 295, 299, 308, 311, 314, 327, 342, 347, 357, 359, 379, 412, 430,
441, 450, 455, 473, 483, 490, 511, 524, 536, 547, 592, 597, 629, 651, 676, 678, 689, 708, 720, 726, 742, 760, 767, 786, 797, 806, 830, 846, 855, 873, 914, 918, 931, 942, 960, 982, 1006, 1012, 1019, 1030, 1032, 1052, 1054, 1065, 1083, 1104, 1109, 1119, 1130, 1150, 1168, 1177, 1187, 1190, 1217, 1225, 1235, 1254,
1273, 1276, 1281, 1287, 1293, 1295, 1301, 1306, 1317, 1322, 1328, 1336, 1347, 1355, 1370, 1378, 1401, 1414, 1431, 1433, 1436, 1483, 1499, 1513, 1553, 1574,
1585, 1586, 1588, 1592, 1614, 1630, 1632, 1645, 1671, 1718, 1733, 1739, 1743, 1745, 1747, 1750, 1753, 1755, 1763, 1771, 1777, 1783, 1787, 1789, 1793, 1796,
1799, 1805, 1807, 1810, 1812, 1816, 1820, 1822, 1826, 1832, 1842, 1852, 1858, 1863, 1869, 1875, 1881, 1886, 1892, 1899, 1902, 1905, 1914, 1916, 1919, 1926,
1929, 1934, 1943, 1953, 1957, 1963, 1965, 1967, 1973, 1979, 1984, 2001, 2006, 2014, 2018, 2023, 2029, 2032, 2041, 2045, 2057, 2063, 2075, 2077, 2086, 2090,
2102, 2107, 2110, 2113, 2120, 2124, 2125, 2134, 2144, 2148, 2151, 2154, 2158, 2160, 2166, 2169, 2176, 2178, 2179, 2184, 2191, 2198, 2207, 2213, 2215, 2217,
2221, 2225, 2227, 2229, 2231, 2240, 2244, 2249, 2253, 2257, 2262, 2267, 2278, 2282, 2291, 2296, 2300, 2304, 2310, 2313, 2317, 2322, 2336, 2341, 2345, 2361,
2363, 2367, 2380, 2384, 2387, 2402, 2405, 2419, 2429, 2449, 2458, 2471, 2473, 2492, 2497, 2501, 2517, 2525, 2537, 2541, 2559, 2567, 2570, 2573, 2585, 2588,
2602, 2614, 2623, 2628, 2632, 2640, 2650, 2658, 2665, 2681, 2691, 2694, 2697, 2706, 2719, 2722, 2742, 2746, 2750, 2763, 2767, 2778, 2794, 2798, 2809, 2816,
2826, 2837, 2841, 2845, 2860, 2869, 2872, 2895, 2901, 2903, 2917, 2919, 2922, 2928, 2944, 2965, 2969, 2975, 2991, 2994, 2999, 3005, 3018, 3024, 3027, 3038,
3052, 3057, 3066, 3069, 3071, 3075, 3086, 3093, 3100, 3104, 3116, 3120, 3123, 3132, 3140, 3143, 3148, 3151, 3153, 3160, 3165, 3166, 3178, 3185, 3198, 3203,
3206, 3210, 3217, 3221, 3223, 3231, 3236, 3242, 3250, 3253, 3258, 3260, 3265, 3269, 3272, 3279, 3282, 3289, 3296, 3299, 3302, 3306, 3315, 3320, 3325, 3329,
3336, 3337, 3349, 3361, 3367, 3370, 3375, 3378, 3386, 3392, 3395, 3399, 3406, 3415, 3421, 3423, 3429, 3432, 3441, 3444, 3450, 3455, 3459, 3466, 3468, 3472,
3475, 3478, 3481, 3484, 3487, 3491, 3494, 3501, 3505, 3516, 3520, 3522, 3527, 3531, 3535, 3545, 3551, 3556, 3559, 3561, 3565, 3571, 3574, 3580, 3582, 3586,
3591, 3593, 3595, 3599, 3604, 3607, 3610, 3613, 3625, 3627, 3628, 3632, 3635, 3637, 3640, 3643, 3645, 3646, 3648, 3650, 3652, 3654, 3656, 3663, 3669, 3672,
3677, 3678, 3682, 3686, 3690, 3693, 3695, 3698, 3702, 3706, 3713]
{ '# of min substrs': 1669,
  '# of minimum attractors': 497,
  'file name': 'data/cantrbry/grammar.lsp',
  'minimum attractor': 'omitted',
  'text length': 3721,
  'times': { 'clauses': 0.01678943634033203,
             'min substrs': 0.2576448917388916,
             'solver run': 0.4122951030731201}}
```

The program computes the minimum string attractor of size 497 for `grammar.lsp` of length 3721.

The array index of the attractors begins at 1.